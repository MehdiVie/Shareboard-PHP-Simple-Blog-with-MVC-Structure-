# Enable URL rewriting
Options +FollowSymLinks
RewriteEngine On

# Set the base directory (Change if your project is inside a subfolder)
RewriteBase /php.local/shareboard/

# Redirect all requests to index.php while keeping query strings
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-zA-Z0-9_-]*)/?([a-zA-Z0-9_-]*)?/?([a-zA-Z0-9_-]*)?/?$ index.php?controller=$1&action=$2&id=$3 [QSA,L]

# Security: Prevent directory browsing
Options -Indexes

# Security: Block access to sensitive files
<FilesMatch "(config\.php|db\.php|Model\.php)">
    Order Deny,Allow
    Deny from all
</FilesMatch>
